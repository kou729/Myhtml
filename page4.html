<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML xmlns="http://www.w3.org/1999/html">
<HEAD>
  <meta charset="UTF-8">
  <TITLE> 試験 はうまくいった!よい 成績 をあげる </TITLE>
  <META NAME="Generator" CONTENT="EditPlus">
  <META NAME="Author" CONTENT="">
  <META NAME="Keywords" CONTENT="">
  <META NAME="Description" CONTENT="">
  <style>
    html, body {
      height: 100%;
      padding: 0;
      margin: 0;
      background: #000;
    }
    heartdrow{
      height: 100%;
      padding: 0;
      margin: 0;
      background: #000;
      z-index: -1;
    }
    canvas {
      position: absolute;
      width: 100%;
      height: 100%;
    }

     .center {
       width: 300px;
       height: 20px;
       color:#a9a9a9;
       align:center;
       padding-left:180px;
       padding-bottom:50px;
       padding-right:20px;
       padding-top:10px;"
     }


    #frame{
      position: relative;
      width: 400px;
      height: 300px;
      margin: 250px auto;
    }
    .left,.right{


      top: 0;
      width: 200px;
      height: 200px;
      border-radius: 50%;
    }
    .left{


      left: 35px;

    }
    .right{


      right: 35px;

    }
    .bottom{

      bottom: 36px;
      left: 100px;
      width: 200px;
      height: 200px;
      transform: rotate(45deg);
    }

    .heartt{
      position:absolute;
      box-shadow:0 0 40px #d5093c;
      animation: beat .8s ease infinite normal;
      background: linear-gradient(-90deg, #F50A45 0%, #d5093c 0%);

    }
    @keyframes beat {


      0%{


        transform: scale(1) rotate(225deg);
        box-shadow:0 0 40px #d5093c;
      }
      50%{


        transform: scale(1.1) rotate(225deg);
        box-shadow: 0 0 70px #d5093c;
      }
      100%{


        transform: scale(1) rotate(225deg);
        box-shadow: 0 0 40px #d5093c;;
      }
    }
  </style>
</HEAD>

<BODY>

<div class="center">
  <h1>诞生日のカウントダウン</h1>
  <h2 id="divdown1"></h2>
</div>
<div>
<script language="javascript" type="text/javascript">
  var interval = 1000;
  function ShowCountDown(year,month,day,divname)
  {
    var now = new Date();
    var endDate = new Date(year, month-1, day);
    var leftTime=endDate.getTime()-now.getTime();
    var leftsecond = parseInt(leftTime/1000);
//var day1=parseInt(leftsecond/(24*60*60*6));
    var day1=Math.floor(leftsecond/(60*60*24));
    var hour=Math.floor((leftsecond-day1*24*60*60)/3600);
    var minute=Math.floor((leftsecond-day1*24*60*60-hour*3600)/60);
    var second=Math.floor(leftsecond-day1*24*60*60-hour*3600-minute*60);
    var cc = document.getElementById(divname);
    cc.innerHTML = "真由ちゃんの诞生日11月21日："+year+"年"+month+"月"+day+"まであと："+day1+"日"+hour+"時"+minute+"分"+second+"秒";
  }
  window.setInterval(function(){ShowCountDown(2022,11,21,'divdown1');}, interval);
</script>
</div>
<div class="content" id="divdown1"></div>
<canvas id="drawHeart"></canvas>
<div>
  <div class="heartdrow">
<script type="text/javascript">
    var hearts = [];
    var canvas = document.getElementById('drawHeart');
    var wW = window.innerWidth;
    var wH = window.innerHeight;
    // 创建画布
    var ctx = canvas.getContext('2d');
    // 创建图片对象
    var heartImage = new Image();
    heartImage.src="image/2.jpg";
    var num = 100;

    init();

    window.addEventListener('resize', function(){
      wW = window.innerWidth;
      wH = window.innerHeight;
    });
    // 初始化画布大小
    function init(){
      canvas.width = wW;
      canvas.height = wH;
      for(var i = 0; i < num; i++){
        hearts.push(new Heart(i%5));
      }
      requestAnimationFrame(render);
    }

    function getColor(){
      var val = Math.random() * 10;
      if(val > 0 && val <= 1){
        return '#00f';
      } else if(val > 1 && val <= 2){
        return '#f00';
      } else if(val > 2 && val <= 3){
        return '#0f0';
      } else if(val > 3 && val <= 4){
        return '#368';
      } else if(val > 4 && val <= 5){
        return '#666';
      } else if(val > 5 && val <= 6){
        return '#333';
      } else if(val > 6 && val <= 7){
        return '#f50';
      } else if(val > 7 && val <= 8){
        return '#e96d5b';
      } else if(val > 8 && val <= 9){
        return '#5be9e9';
      } else {
        return '#d41d50';
      }
    }

    function getText(){
      var val = Math.random() * 10;
      if(val > 1 && val <= 3){
        return '真由ちゃん';
      } else if(val > 3 && val <= 5){
        return '試験 はうまくいった!';
      } else if(val > 5 && val <= 8){
        return 'よい 成績 をあげる！';
      } else{
        return'好きだよ';
      }
    }

    function Heart(type){
      this.type = type;
      // 初始化生成范围
      this.x = Math.random() * wW;
      this.y = Math.random() * wH;

      this.opacity = Math.random() * .5 + .5;

      // 偏移量
      this.vel = {
        x: (Math.random() - .5) * 5,
        y: (Math.random() - .5) * 5
      }

      this.initialW = wW * .5;
      this.initialH = wH * .5;
      // 缩放比例
      this.targetScale = Math.random() * .15 + .02; // 最小0.02
      this.scale = Math.random() * this.targetScale;

      // 文字位置
      this.fx = Math.random() * wW;
      this.fy = Math.random() * wH;
      this.fs = Math.random() * 10;
      this.text = getText();

      this.fvel = {
        x: (Math.random() - .5) * 5,
        y: (Math.random() - .5) * 5,
        f: (Math.random() - .5) * 2
      }
    }

    Heart.prototype.draw = function(){
      ctx.save();
      ctx.globalAlpha = this.opacity;
      ctx.drawImage(heartImage, this.x, this.y, this.width, this.height);
      ctx.scale(this.scale + 1, this.scale + 1);
      if(!this.type){
        // 设置文字属性
        ctx.fillStyle = getColor();
        ctx.font = 'italic ' + this.fs + 'px sans-serif';
        // 填充字符串
        ctx.fillText(this.text, this.fx, this.fy);
      }
      ctx.restore();
    }
    Heart.prototype.update = function(){
      this.x += this.vel.x;
      this.y += this.vel.y;

      if(this.x - this.width > wW || this.x + this.width < 0){
        // 重新初始化位置
        this.scale = 0;
        this.x = Math.random() * wW;
        this.y = Math.random() * wH;
      }
      if(this.y - this.height > wH || this.y + this.height < 0){
        // 重新初始化位置
        this.scale = 0;
        this.x = Math.random() * wW;
        this.y = Math.random() * wH;
      }

      // 放大
      this.scale += (this.targetScale - this.scale) * .1;
      this.height = this.scale * this.initialH;
      this.width = this.height * 1.4;

      // -----文字-----
      this.fx += this.fvel.x;
      this.fy += this.fvel.y;
      this.fs += this.fvel.f;

      if(this.fs > 50){
        this.fs = 2;
      }

      if(this.fx - this.fs > wW || this.fx + this.fs < 0){
        // 重新初始化位置
        this.fx = Math.random() * wW;
        this.fy = Math.random() * wH;
      }
      if(this.fy - this.fs > wH || this.fy + this.fs < 0){
        // 重新初始化位置
        this.fx = Math.random() * wW;
        this.fy = Math.random() * wH;
      }
    }

    function render(){
      ctx.clearRect(0, 0, wW, wH);
      for(var i = 0; i < hearts.length; i++){
        hearts[i].draw();
        hearts[i].update();
      }
      requestAnimationFrame(render);
    }
  </script>
  </div>
  <div>
    <div id="frame">
      <div class="heartt left"></div>
      <div class="heartt right"></div>
      <div class="heartt bottom"></div>
      <button><a href="page5.html">Touch me</a></button>
    </div>
  </div>
</div>
</BODY>
</html>